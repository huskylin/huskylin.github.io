<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å·¥ç¨‹å¸«éƒ½æ˜¯ä¸­äºŒç—…</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://huskylin.github.io/"/>
  <updated>2020-10-20T16:40:46.107Z</updated>
  <id>https://huskylin.github.io/</id>
  
  <author>
    <name>huskylin</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Redis åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨ (æ­é…Node.js)</title>
    <link href="https://huskylin.github.io/2020/07/10/Redis-%E5%81%9A%E8%B3%87%E6%96%99%E5%BF%AB%E5%8F%96%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-%E6%90%AD%E9%85%8DNode-js/"/>
    <id>https://huskylin.github.io/2020/07/10/Redis-%E5%81%9A%E8%B3%87%E6%96%99%E5%BF%AB%E5%8F%96%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-%E6%90%AD%E9%85%8DNode-js/</id>
    <published>2020-07-10T10:11:48.000Z</published>
    <updated>2020-10-20T16:40:46.107Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis-åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨-æ­é…Node-js"><a href="#Redis-åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨-æ­é…Node-js" class="headerlink" title="Redis åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨ (æ­é…Node.js)"></a>Redis åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨ (æ­é…Node.js)</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ‰äº›éœ€è¦è€—è²»å¤§é‡é‹ç®—çš„çµæœ<br>å¦‚æœèƒ½å¤ åœ¨ä¼ºæœå™¨ç«¯åšå¿«å–<br>å¯ä»¥å°æ•ˆèƒ½æå‡å¾ˆæœ‰å¹«åŠ©<br>å…ˆçœ‹é€™æ¬¡çš„çµæœ<br><img src="https://i.imgur.com/cauSYoG.png" alt=""><br>å·¦é‚Šç‚ºåŸå§‹æƒ…æ³ï¼Œå³é‚Šç‚º Redis å¿«å–å¾Œ<br>(æ¥µç«¯æ¡ˆä¾‹? T__T</p><h2 id="å®‰è£"><a href="#å®‰è£" class="headerlink" title="å®‰è£"></a>å®‰è£</h2><p>å·²ç¶“æœ‰å®‰è£<br>æˆ–æ˜¯åªæ˜¯æƒ³çœ‹ä»‹ç´¹çš„å¯ä»¥è·³éé€™éƒ¨åˆ†å–”~</p><h3 id="Redis-Server"><a href="#Redis-Server" class="headerlink" title="Redis Server"></a>Redis Server</h3><p>å»ºè­°æ¡ç”¨å®˜ç¶²é€™ç¨®ä¸‹è¼‰å£“ç¸®æª”å†å®‰è£çš„æ–¹å¼<br>ä¸ç„¶ç›´æ¥ç”¨ apt-get å¸¸å¸¸é è¨­çš„ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬<br><a href="https://redis.io/download#installation" target="_blank" rel="noopener">https://redis.io/download#installation</a></p><pre><code class="Bash">$ wget http://download.redis.io/releases/redis-6.0.5.tar.gz$ tar xzf redis-6.0.5.tar.gz$ cd redis-6.0.5$ make</code></pre><p>åœ¨èƒŒæ™¯å•Ÿå‹• redis-server</p><pre><code class="Bash">$ src/redis-server --daemonize yes</code></pre><p>ä¸¦ä¸”æ¸¬è©¦ä¸€ä¸‹åŠŸèƒ½é‹ä½œæ­£å¸¸</p><pre><code class="Bash">$ redis&gt; set foo bar$ OK$ redis&gt; get foo$ &quot;bar&quot;</code></pre><h3 id="Redis-Client"><a href="#Redis-Client" class="headerlink" title="Redis Client"></a>Redis Client</h3><p>æˆ‘è‡ªå·±æ˜¯ä½¿ç”¨ Node.js<br>æ‰€ä»¥å…ˆå®‰è£ node-redis å¥—ä»¶<br><a href="https://github.com/NodeRedis/node-redis" target="_blank" rel="noopener">https://github.com/NodeRedis/node-redis</a></p><pre><code class="Bash">npm install redis</code></pre><p>Github ä¸Šçš„ç¯„ä¾‹ä¹Ÿå¾ˆç°¡æ½”æ¸…æ¥š</p><pre><code class="JavaScript">&lt;!-- å¼•å…¥æ¨¡çµ„ --&gt;const redis = require(&quot;redis&quot;);const client = redis.createClient();&lt;!-- é€£æ¥ redis server --&gt;client.on(&quot;error&quot;, function(error) {  console.error(error);});&lt;!-- è¨­ç½®èˆ‡å–å¾— key / value --&gt;client.set(&quot;key&quot;, &quot;value&quot;, redis.print);client.get(&quot;key&quot;, redis.print);</code></pre><h2 id="å¯¦éš›ä½¿ç”¨"><a href="#å¯¦éš›ä½¿ç”¨" class="headerlink" title="å¯¦éš›ä½¿ç”¨"></a>å¯¦éš›ä½¿ç”¨</h2><h3 id="ä½¿ç”¨å¿«å–çš„é‚è¼¯"><a href="#ä½¿ç”¨å¿«å–çš„é‚è¼¯" class="headerlink" title="ä½¿ç”¨å¿«å–çš„é‚è¼¯"></a>ä½¿ç”¨å¿«å–çš„é‚è¼¯</h3><ul><li>æŸ¥è©¢è³‡æ–™æ™‚ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ–¼å¿«å–ä¹‹ä¸­<ul><li>æ˜¯ï¼Œå‰‡<strong>å¾å¿«å–ä¸­å–å¾—</strong>è³‡æ–™<ul><li>ç›´æ¥å›å‚³çµ¦å‰ç«¯</li></ul></li><li>å¦ï¼Œå‰‡<strong>å¾è³‡æ–™åº«ä¸­</strong>æŸ¥è©¢<ul><li>å›å‚³çµ¦å‰ç«¯</li><li>ä¸¦ä¸”å¯«å…¥å¿«å–ä¹‹ä¸­</li></ul></li></ul></li><li>æ›´æ–°è³‡æ–™æ™‚ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ–¼å¿«å–ä¹‹ä¸­<ul><li>æ˜¯ï¼Œå‰‡ä¸€ä½µæ›´æ–°å¿«å–è³‡æ–™</li><li>å¦ï¼Œå‰‡å¯«å…¥å¿«å–ä¸­<h3 id="è½‰æ›ç‚ºç¨‹å¼ç¢¼"><a href="#è½‰æ›ç‚ºç¨‹å¼ç¢¼" class="headerlink" title="è½‰æ›ç‚ºç¨‹å¼ç¢¼"></a>è½‰æ›ç‚ºç¨‹å¼ç¢¼</h3></li></ul></li></ul><pre><code class="Javascript">// å–å¾—åœ–è¡¨è³‡æ–™router.get(&#39;/someData&#39;, (req, res) =&gt; {  // å–å¾—è«‹æ±‚åƒæ•¸ä¸¦å‚³æ›æˆ key  const parm1 = req.query.parm1  const parm2 = req.query.parm2  const parm3 = req.query.parm3  const key = (`someData:${parm1}/${parm2}/${parm3}`).trim()  const expireDay = 60 * 60 * 24;  // æª¢æŸ¥è³‡æ–™æ˜¯å¦èƒ½å¤ å¾å¿«å–ä¸­å–å¾—  redisClient.get(key, (err, rawdata) =&gt; {    // å¯ä»¥åšéŒ¯èª¤è™•ç†    if (err) {      console.log(err)    }    // å¦‚æœå¿«å–ä¸­æ²’æœ‰é€™ç­†è³‡æ–™ï¼Œæœƒå›å‚³ null     if (!!rawdata) {      // redis ç„¡æ³•å„²å­˜ Javascript çš„ Object      // é€™é‚Šæ˜¯ç›´æ¥å­˜æˆ string      // æ‰€ä»¥éœ€è¦è½‰æ›      const data = JSON.parse(rawdata);      return res.json(data);    }    // é€™é‚Šæ˜¯å‘¼å«ä½ æ’ˆè³‡æ–™åº«çš„ function    yourSQL.queryData(parm1, parm2, parm3)      .then(results =&gt; {        // å¯«å…¥å¿«å–ï¼Œä¸¦ä¸”è¨­ç½®æœ‰æ•ˆæœŸé™ç‚ºä¸€å¤©        redisClient.set(key, JSON.stringify(results), &#39;EX&#39;, expireDay, err =&gt; {          if (err) {            console.log(err)          }        });        // å›å‚³è³‡æ–™        res.json(results);      })      .catch(err =&gt; {        // è³‡æ–™åº«çš„æŸ¥è©¢çš„éŒ¯èª¤è™•ç†        console.log(&quot;not connected due to error: &quot; + err);        res.status(500).send(&#39;Can not connect to DB&#39;);      });  });});</code></pre><h2 id="å€¼å¾—æ³¨æ„çš„åœ°æ–¹"><a href="#å€¼å¾—æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="å€¼å¾—æ³¨æ„çš„åœ°æ–¹"></a>å€¼å¾—æ³¨æ„çš„åœ°æ–¹</h2><h3 id="key-çš„å–å"><a href="#key-çš„å–å" class="headerlink" title="key çš„å–å"></a>key çš„å–å</h3><p>å› ç‚º key çš„é•·åº¦æœƒå½±éŸ¿åˆ° Redis æŸ¥è©¢çš„æ•ˆèƒ½<br>æ‰€ä»¥è¨­è¨ˆå¥½çš„ key æ˜¯éœ€è¦çš„<br>é—œä¹å–åçš„æ±è¥¿è¦è¤‡é›œéƒ½å¯ä»¥å¾ˆè¤‡é›œ<br>ä½†æˆ‘è¦ºå¾—æœ€å¤§åŸå‰‡å°±æ˜¯å…§éƒ¨æºé€šå¥½ã€å¥½ç®¡ç†å°±å¥½<br>å¯ä»¥åƒè€ƒ SatckOverflow ä¸Šæœ‰äººè¬›åˆ°å¸¸è¦‹çš„å‘½åæ–¹å¼<br><a href="https://stackoverflow.com/questions/6965451/redis-key-naming-conventions" target="_blank" rel="noopener">redis-key-naming-conventions</a></p><blockquote><p>We use a colon (:) as namespace separator and a hash (#) for id-parts of keys, e.g.:<br>logistics:building#23</p></blockquote><h3 id="value-çš„è³‡æ–™å‹æ…‹"><a href="#value-çš„è³‡æ–™å‹æ…‹" class="headerlink" title="value çš„è³‡æ–™å‹æ…‹"></a>value çš„è³‡æ–™å‹æ…‹</h3><p>Redis ç›®å‰æœ‰äº”ç¨®è³‡æ–™å‹æ…‹:</p><ul><li>string</li><li>hash</li><li>list</li><li>set</li><li>zset (sorted set)</li></ul><p>æˆ‘é€™é‚ŠåŸæœ¬æ˜¯æƒ³ç›´æ¥æŠŠè³‡æ–™åº«æ’ˆå‡ºä¾†çš„çµæœ (Objectå‹æ…‹) å­˜å…¥<br>ä½†æ˜¯å› ç‚º Redis ä¸¦æ²’æœ‰é€™ç¨®è³‡æ–™å‹æ…‹<br>æ‰€ä»¥å°±ç›´æ¥ç²—æš´çš„è½‰æˆå­—ä¸²<br>å­˜å…¥èˆ‡å–å‡ºæ™‚é€é<code>JSON.stringify</code>, <code>JSON.parse</code> ä¾†è™•ç†<br><img src="https://media.giphy.com/media/3oEduNF7DlpxgcHVJe/giphy.gif" alt=""><br>æ‡‰è©²æœ‰æ›´å¥½çš„åšæ³•å•¦</p><h3 id="æœ‰æ•ˆæœŸé™çš„è¨­ç½®"><a href="#æœ‰æ•ˆæœŸé™çš„è¨­ç½®" class="headerlink" title="æœ‰æ•ˆæœŸé™çš„è¨­ç½®"></a>æœ‰æ•ˆæœŸé™çš„è¨­ç½®</h3><ul><li>å¦‚æœä¸æ˜¯éœ€è¦å¸¸é§çš„è³‡æ–™<br>  ç›¡é‡éƒ½è¦è¨­ç½®æœ‰æ•ˆæœŸé™<br>  (éœ€è¦å¸¸é§çš„è³‡æ–™ä¹Ÿæ‡‰è©²è¦è¨˜å¾—å­˜æ–¼å¯¦é«”è³‡æ–™åº«ä¸­)</li><li>è¨­ç½®åˆç†çš„æœ‰æ•ˆæœŸé™<ul><li>å¤ªé•·ï¼Œå ç”¨è¨˜æ†¶é«”ç©ºé–“</li><li>å¤ªçŸ­ï¼Œå®¹æ˜“é‡è¦†è®€å¯«æµªè²»æ•ˆèƒ½</li></ul></li><li>åœ¨ç¯„ä¾‹çš„ Node.js ä¸­<br>  èªæ³•ç‚ºåœ¨ set æ–¹æ³•è£¡å‚³å…¥åƒæ•¸ <code>&#39;EX&#39;, expire</code><pre><code class="JavaScript">  redisClient.set(key, value, &#39;EX&#39;, expire, err =&gt; {      ...  });</code></pre></li></ul><h3 id="è¶…éè¨˜æ†¶é«”ä¸Šé™å¾Œçš„è™•ç†ã€æ·˜æ±°æ©Ÿåˆ¶"><a href="#è¶…éè¨˜æ†¶é«”ä¸Šé™å¾Œçš„è™•ç†ã€æ·˜æ±°æ©Ÿåˆ¶" class="headerlink" title="è¶…éè¨˜æ†¶é«”ä¸Šé™å¾Œçš„è™•ç†ã€æ·˜æ±°æ©Ÿåˆ¶"></a>è¶…éè¨˜æ†¶é«”ä¸Šé™å¾Œçš„è™•ç†ã€æ·˜æ±°æ©Ÿåˆ¶</h3><ul><li>noeviction:<br>  å³ä½¿è¨˜æ†¶é«”ä¸Šé”åˆ°ä¸Šé™ï¼Œä¹Ÿä¸ç½®æ› key-value<br>  ä¹Ÿå°±æ˜¯<strong>è¨˜æ†¶é«”æ»¿äº†ä¹‹å¾Œï¼Œåªèƒ½è®€å–è³‡æ–™ï¼Œä¸èƒ½å¯«å…¥</strong><br>  è‹¥å†æ–°å¢è³‡æ–™æœƒ return error<blockquote><p><strong>é€™æ˜¯é è¨­å€¼ï¼Œæˆ‘èªç‚ºä¸é©ç”¨æ–¼å¤šæ•¸å ´åˆï¼Œæ‰€æ‡‰è©²è¦å»è¨­å®šæˆä¸‹åˆ—å…¶ä»–çš„</strong></p></blockquote></li><li>allkeys-lru:<br>  å„ªå…ˆåˆªé™¤æ‰<strong>æœ€è¿‘æœ€å°‘ä½¿ç”¨</strong>çš„keyï¼Œç”¨ä»¥ä¿å­˜æ–°æ•¸æ“š<blockquote><p>LRU = least recently used<br>é©ç”¨å¤šæ•¸å ´åˆ</p></blockquote></li><li>volatile-lru:<br>  åªå¾æœ‰è¨­ç½®<strong>æœ‰æ•ˆæœŸé™</strong> (expire) çš„è³‡æ–™ä¸­<br>  é¸æ“‡<strong>æœ€è¿‘æœ€å°‘ä½¿ç”¨</strong>çš„ key-value é€²è¡Œåˆªé™¤<blockquote><p>èˆ‡ allkeys-lru çš„å·®åˆ¥åœ¨æ–¼<br>ä¸€å€‹å¾<strong>å…¨éƒ¨</strong>çš„ key ä¸­ä¾†é¸æ“‡åˆªé™¤<br>ä¸€å€‹æ˜¯åªæœƒå¾<strong>æœ‰æœ‰æ•ˆæœŸé™</strong>çš„ key ä¾†é¸æ“‡åˆªé™¤</p></blockquote></li><li>allkeys-random:<br>  å¾<strong>å…¨éƒ¨</strong>çš„ key ä¸­<br>  <strong>éš¨æ©Ÿé¸æ“‡</strong>ä¸€äº›é€²è¡Œåˆªé™¤</li><li>volatile-random:<br>  åªå¾æœ‰è¨­ç½®<strong>æœ‰æ•ˆæœŸé™</strong> (expire) key ä¸­<br>  <strong>éš¨æ©Ÿé¸æ“‡</strong>ä¸€äº› key é€²è¡Œåˆªé™¤</li><li>volatile-ttl:<br>  åªå¾æœ‰è¨­ç½®<strong>æœ‰æ•ˆæœŸé™</strong> (expire) key ä¸­<br>  é¸å‡º<strong>å‰©é¤˜å­˜æ´»æ™‚é–“ (TTL) æœ€çŸ­</strong>çš„ key é€²è¡Œåˆªé™¤<blockquote><p>TTL = Time To Live</p></blockquote></li></ul><h3 id="å…¶ä»–åƒè€ƒè³‡æ–™"><a href="#å…¶ä»–åƒè€ƒè³‡æ–™" class="headerlink" title="å…¶ä»–åƒè€ƒè³‡æ–™"></a>å…¶ä»–åƒè€ƒè³‡æ–™</h3><ul><li><a href="https://medium.com/10coding/node-js-%E4%BD%BF%E7%94%A8-redis-%E5%85%A7%E5%AD%98%E4%BE%86%E5%AD%98%E5%8F%96%E6%9C%AC%E5%9C%B0%E8%B3%87%E6%96%99-9557660196f4" target="_blank" rel="noopener">[Node.js] ä½¿ç”¨ Redis å…§å­˜ä¾†å­˜å–æœ¬åœ°è³‡æ–™</a></li><li><a href="https://jinguoxing.github.io/redis/2018/10/10/redis-EXPIRE/" target="_blank" rel="noopener">Redisçš„è¿‡æœŸç­–ç•¥åŠæ·˜æ±°ç­–ç•¥</a></li><li><a href="https://juejin.im/post/5ed5cc9b51882543393c985c" target="_blank" rel="noopener">Redisåˆ é™¤ç­–ç•¥å’Œé€å‡ºç­–ç•¥</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis-åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨-æ­é…Node-js&quot;&gt;&lt;a href=&quot;#Redis-åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨-æ­é…Node-js&quot; class=&quot;headerlink&quot; title=&quot;Redis åšè³‡æ–™å¿«å–çš„åŸºæœ¬ä½¿ç”¨ (æ­é…Node.js)&quot;&gt;&lt;/a&gt;Redis 
      
    
    </summary>
    
    
    
      <category term="éƒ¨å±¬" scheme="https://huskylin.github.io/tags/%E9%83%A8%E5%B1%AC/"/>
    
      <category term="Node.js" scheme="https://huskylin.github.io/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>MySQL åœ¨æ¯å€‹ç¾¤çµ„ä¸­å– N ç­†è³‡æ–™ ( Get 1...N Results From Each Group )</title>
    <link href="https://huskylin.github.io/2020/06/28/MySQL-%E5%9C%A8%E6%AF%8F%E5%80%8B%E7%BE%A4%E7%B5%84%E4%B8%AD%E5%8F%96-N-%E7%AD%86%E8%B3%87%E6%96%99-Get-1-N-Results-From-Each-Group/"/>
    <id>https://huskylin.github.io/2020/06/28/MySQL-%E5%9C%A8%E6%AF%8F%E5%80%8B%E7%BE%A4%E7%B5%84%E4%B8%AD%E5%8F%96-N-%E7%AD%86%E8%B3%87%E6%96%99-Get-1-N-Results-From-Each-Group/</id>
    <published>2020-06-28T07:27:47.000Z</published>
    <updated>2020-06-28T08:59:40.269Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL-åœ¨æ¯å€‹ç¾¤çµ„ä¸­å–-N-ç­†è³‡æ–™-Get-1â€¦N-Results-From-Each-Group"><a href="#MySQL-åœ¨æ¯å€‹ç¾¤çµ„ä¸­å–-N-ç­†è³‡æ–™-Get-1â€¦N-Results-From-Each-Group" class="headerlink" title="MySQL åœ¨æ¯å€‹ç¾¤çµ„ä¸­å– N ç­†è³‡æ–™ ( Get 1â€¦N Results From Each Group )"></a>MySQL åœ¨æ¯å€‹ç¾¤çµ„ä¸­å– N ç­†è³‡æ–™ ( Get 1â€¦N Results From Each Group )</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å¦‚æœåªæƒ³æ’ˆå– GROUP BY å¾Œï¼Œæ¯ä¸€å€‹ GROUP è£¡é¢çš„å‰ 1â€¦n ç­†è³‡æ–™<br>ä¾‹å¦‚:</p><table><thead><tr><th>Person</th><th>Height</th><th>Weight</th><th>UpdateTime</th></tr></thead><tbody><tr><td>Andy</td><td>150</td><td>52</td><td>2018-06-01</td></tr><tr><td>Andy</td><td>155</td><td>55</td><td>2019-08-01</td></tr><tr><td>Andy</td><td>160</td><td>58</td><td>2020-09-01</td></tr><tr><td>Bob</td><td>162</td><td>57</td><td>2018-06-01</td></tr><tr><td>Bob</td><td>164</td><td>62</td><td>2019-08-01</td></tr><tr><td>Bob</td><td>168</td><td>65</td><td>2020-09-01</td></tr></tbody></table><p>é€™æ˜¯ä¸€å¼µè¨˜éŒ„èº«é«˜é«”é‡çš„è¡¨<br>è€Œæ±ºå®šæ¯ç­†è³‡æ–™æ˜¯å”¯ä¸€çš„ PK å°±æ˜¯<code>Name + UpdateTime</code></p><h2 id="å•é¡Œ"><a href="#å•é¡Œ" class="headerlink" title="å•é¡Œ"></a>å•é¡Œ</h2><p>å‡è¨­æƒ³è¦å–å¾—<code>æ¯å€‹äººæœ€æ–°çš„é«”æ…‹è³‡æ–™</code><br>é‚£éº¼ç›´è¦ºå°±æœƒæƒ³åˆ°å…ˆæŠŠä»–å€‘ GROUP BY å¾Œ<br>å†ä¾†ç”¨ ORDER BY<br>å†ä¾†ç”¨ LIMIT<br>å†ä¾†ç”¨â€¦.. åˆ°åº•è¦ç”¨å•¥<br>æœ€å¾Œè…¦è¢‹ä¸€ç‰‡æ¸¾æ²Œåœ°çµ„å‡ºä¸€å¨å‹‰å¼·é€šéèªæ³•æª¢æŸ¥çš„å¼å­</p><pre><code class="SQL">SELECT     Person, Height, Weight, UpdateTimeFROM    BodyInfoTable GROUP BY    Person, UpdateTimeORDER BY    UpdateTime DESCLIMIT 1</code></pre><p>ç„¶å¾Œå°±å¯ä»¥é–‹é–‹å¿ƒå¿ƒåœ°çœ‹è¦‹â€¦<br><strong>å„ç¨®éŒ¯èª¤èˆ‡ä¸æ˜¯ä½ æƒ³è¦çš„çµæœ :)</strong><br><img src="https://media.giphy.com/media/xTeV7FKRuo5YX714L6/giphy.gif" alt=""></p><h2 id="è§£æ³•ä¸€ï¼Œä½¿ç”¨-Variables"><a href="#è§£æ³•ä¸€ï¼Œä½¿ç”¨-Variables" class="headerlink" title="è§£æ³•ä¸€ï¼Œä½¿ç”¨ Variables"></a>è§£æ³•ä¸€ï¼Œä½¿ç”¨ Variables</h2><p>é‚£éº¼å†ä¾†å°±æ˜¯é€™æ¬¡çš„ä¸»é¡Œ<br><strong>é‡å°æ¯ä¸€å€‹ GROUP å–å¹¾ç­†è³‡æ–™</strong><br>æŸ¥è©¢äº† StackOverflow ä¸Šçš„å•ç­”å¾Œçš„è§£æ³•<br><a href="https://stackoverflow.com/questions/53373326/using-limit-within-group-by-to-get-n-results-per-dynamic-group" target="_blank" rel="noopener">Using LIMIT within GROUP BY to get N results per dynamic group</a><br><a href="https://stackoverflow.com/a/12005119" target="_blank" rel="noopener">mysql limit inside group</a><br>å¥—ç”¨åœ¨ç¯„ä¾‹çš„æƒ…å¢ƒä¸­å°±æœƒé•·é€™æ¨£</p><pre><code class="SQL">SELECT     Person, Height, Weight, UpdateTimeFROM    (SELECT         x.*,            CASE                WHEN @prev = Person THEN @i:=@i + 1                ELSE @i:=1            END i,            @prev:=Person    FROM        BodyInfoTable x, (SELECT @prev:=NULL, @i:=0) vars    ORDER BY Person, UpdateTime ) aWHERE    i &lt;= 1;</code></pre><p>æœ€é—œéµçš„éƒ¨åˆ†å°±æ˜¯å®ƒä½¿ç”¨äº†<a href="https://dev.mysql.com/doc/refman/8.0/en/user-variables.html" target="_blank" rel="noopener"><code>Variables</code></a>æ­é…<code>case-when</code>ä¾†å®Œæˆ<br>ç•¶ Person æ¬„ä½é‡è¦†çš„æ™‚å€™ i å°±æœƒ +1<br>èª¿æ•´ ORDER BY èˆ‡ i &lt;= å¤šå°‘<br>å°±å¯ä»¥æ±ºå®šæƒ³è¦æŒ‰ç…§ä»€éº¼æ¢ä»¶ä¾†å–å¾—å‰ n ç­†è³‡æ–™äº†</p><p>Variables è®Šæ•¸:</p><pre><code class="SQL">@prev:=Person</code></pre><blockquote><p>You can <strong>store a value in a user-defined variable</strong> in one statement and refer to it later in another statement. This enables you to pass values from one statement to another. </p></blockquote><h3 id="å‡ºç¾å¦ä¸€å€‹å•é¡Œ"><a href="#å‡ºç¾å¦ä¸€å€‹å•é¡Œ" class="headerlink" title="å‡ºç¾å¦ä¸€å€‹å•é¡Œ"></a>å‡ºç¾å¦ä¸€å€‹å•é¡Œ</h3><p>åŸæœ¬æƒ³èªªå¤§åŠŸå‘Šæˆï¼Œé€™é•·å¾—é€™éº¼<del>é†œ</del>è¤‡é›œ<br>æŠŠå®ƒå„²å­˜æˆ View å§<br>ç™»æ„£<del>~</del> ç›´æ¥å™´å‡ºä¸€å€‹å¤§å¤§çš„éŒ¯èª¤<br><code>Error 1351: View&#39;s SELECT contains a variable or parameter SQL Statement:...</code><br>ç›´æ¥æ‹¿éŒ¯èª¤é¤µç‹—å¾Œæ‰çŸ¥é“<br><strong>View è£¡é¢æ˜¯ä¸èƒ½ä½¿ç”¨ Variables çš„!!</strong><br>å¦‚æœå …æŒè¦ç”¨ï¼Œå°±å¿…é ˆç”¨<a href="https://stackoverflow.com/a/11294609" target="_blank" rel="noopener">å¾ˆ tricky çš„å¯«æ³•</a><br>çœ‹åˆ°é€™é‚Šâ€¦æˆ‘åªèƒ½èªª<br>ã€Œæˆ‘OKï¼Œä½ å…ˆç”¨ã€<br><img src="https://media.giphy.com/media/ANWIS2HYfROI8/giphy.gif" alt=""><br>é¦¬ä¸Šè·³æ§½ç”¨åˆ¥çš„å¯«æ³•</p><h2 id="è§£æ³•äºŒï¼Œä½¿ç”¨-ROW-NUMBER"><a href="#è§£æ³•äºŒï¼Œä½¿ç”¨-ROW-NUMBER" class="headerlink" title="è§£æ³•äºŒï¼Œä½¿ç”¨ ROW_NUMBER()"></a>è§£æ³•äºŒï¼Œä½¿ç”¨ ROW_NUMBER()</h2><p>åŸä¾†é€™ç¨®é¡å‹çš„æ“ä½œ<br>æ˜¯å› ç‚ºåœ¨<code>MySQL 8</code>ä»¥å‰æ‰éœ€è¦é€™éº¼å…‹é›£ã€å±•ç¾æ‰‹åšè·äººç²¾ç¥<br><code>MySQL 8</code>ä»¥å¾Œå°±ç›´æ¥ç”¨è¶…æ£’æ£’å‡½æ•¸å°±å¥½å•¦<br><a href="https://stackoverflow.com/a/30269273" target="_blank" rel="noopener">In MySQL 8 or later just use the RANK, DENSE_RANK or ROW_NUMBER functions:</a><br>å¥—ç”¨åœ¨ç¯„ä¾‹çš„SQLå°±æœƒé•·é€™æ¨£</p><pre><code class="SQL">SELECT     Person, Height, Weight, UpdateTimeFROM    (    SELECT *,    ROW_NUMBER() OVER (partition by Person ORDER BY Person, UpdateTime) AS vars    FROM TainanParking.GridStatic    ) as aWHERE num &lt;= 1</code></pre><p>æ’ˆå‡ºä¾†æ‡‰è©²å°±æœƒåƒæ˜¯</p><table><thead><tr><th>Person</th><th>Height</th><th>Weight</th><th>UpdateTime</th></tr></thead><tbody><tr><td>Andy</td><td>160</td><td>58</td><td>2020-09-01</td></tr><tr><td>Bob</td><td>168</td><td>65</td><td>2020-09-01</td></tr></tbody></table><p><img src="https://media.giphy.com/media/jrutBd1N7ZhsINAPzs/giphy.gif" alt="OMG"><br>é€™ç¨®å¯«æ³•çœŸçš„æ˜¯å¥½å¤šäº†<br>è€Œä¸”é€™å€‹éœ€æ±‚æ‡‰è©²å¾ˆå¸¸ç”¨åˆ°ï¼Œè¶•ç·Šç­†è¨˜èµ·ä¾†<br>çµ‚æ–¼æ‰“å®Œäº†~ ä¸‹èª²å•¦~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MySQL-åœ¨æ¯å€‹ç¾¤çµ„ä¸­å–-N-ç­†è³‡æ–™-Get-1â€¦N-Results-From-Each-Group&quot;&gt;&lt;a href=&quot;#MySQL-åœ¨æ¯å€‹ç¾¤çµ„ä¸­å–-N-ç­†è³‡æ–™-Get-1â€¦N-Results-From-Each-Group&quot; class=&quot;headerlin
      
    
    </summary>
    
    
    
      <category term="MySQL" scheme="https://huskylin.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Node.js + PM2 è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬</title>
    <link href="https://huskylin.github.io/2020/06/18/Node-js-PM2-%E8%A8%AD%E7%BD%AE%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%EF%BC%8C%E6%9B%B4%E5%BD%88%E6%80%A7%E5%9C%B0%E9%96%8B%E7%99%BC%E8%88%87%E9%83%A8%E5%B1%AC/"/>
    <id>https://huskylin.github.io/2020/06/18/Node-js-PM2-%E8%A8%AD%E7%BD%AE%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8%EF%BC%8C%E6%9B%B4%E5%BD%88%E6%80%A7%E5%9C%B0%E9%96%8B%E7%99%BC%E8%88%87%E9%83%A8%E5%B1%AC/</id>
    <published>2020-06-18T10:10:00.000Z</published>
    <updated>2020-07-18T10:11:22.883Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Node-js-PM2-è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬"><a href="#Node-js-PM2-è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬" class="headerlink" title="Node.js + PM2 è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬"></a>Node.js + PM2 è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨ä½¿ç”¨ node.js æ™‚ä¸€å®šæœƒé‡åˆ°<br><code>é–‹ç™¼(dev)</code>èˆ‡<code>ç”Ÿç”¢(production)</code>ï¼Œç”šè‡³æ›´å¤šéšæ®µçš„ä¸åŒç’°å¢ƒ<br>å¯èƒ½æ¯ä¸€ç¨®ç’°å¢ƒéƒ½æœ‰ä¸åŒçš„è¨­å®šæª”æ¡ˆ<br>ä¾‹å¦‚:<br>é–‹ç™¼éšæ®µè¦é€£ç·šåˆ°æœ¬æ©Ÿçš„è³‡æ–™åº«<br>ç”Ÿç”¢éšæ®µè¦é€£ç·šåˆ°å¦ä¸€å°ä¼ºæœå™¨çš„è³‡æ–™åº«<br>é€™æ™‚å€™å°±éœ€è¦æ›´å½ˆæ€§çš„ä¾†åšè¨­å®š</p><h2 id="åœ¨-Node-js-è¨­å®š-config"><a href="#åœ¨-Node-js-è¨­å®š-config" class="headerlink" title="åœ¨ Node.js è¨­å®š config"></a>åœ¨ Node.js è¨­å®š config</h2><p>å¯ä»¥é‡å°ä¸åŒçš„éšæ®µç’°å¢ƒä¾†è¨­å®šå„ç¨®é€£ç·šåƒæ•¸<br>ä¾‹å¦‚:</p><pre><code class="JavaScript">const env = process.env.NODE_ENV; // &#39;dev&#39; or &#39;prod&#39;const configs = {}configs.dev = {  db: {    host: &#39;YourHost1&#39;,    port: 3306,    user: &quot;YourUser&quot;,    password: &#39;yourPassword1&#39;,    database: &#39;YourDB1&#39;  }};configs.prod = {  db: {    host: &#39;YourHost2&#39;,    port: 3306,    user: &quot;YourUser2&quot;,    password: &#39;yourPassword2&#39;,    database: &#39;YourDB2&#39;  }}module.exports = configs[env];</code></pre><p>å¦‚æ­¤ä¸€ä¾† Node.js å°±æœƒæ ¹æ“š<code>ç’°å¢ƒè®Šæ•¸</code>ä¾† exports ä¸åŒçš„è¨­å®š</p><h2 id="ä½¿ç”¨-PM2-ä¾†é‹è¡Œ-Node-js-æ™‚"><a href="#ä½¿ç”¨-PM2-ä¾†é‹è¡Œ-Node-js-æ™‚" class="headerlink" title="ä½¿ç”¨ PM2 ä¾†é‹è¡Œ Node.js æ™‚"></a>ä½¿ç”¨ PM2 ä¾†é‹è¡Œ Node.js æ™‚</h2><p>PM2 æ˜¯ä¸€å€‹ node çš„ç¨‹åºç®¡ç†å™¨<br>ä¸»è¦åŠŸèƒ½æœ‰<code>è‡ªå‹•é‡å•Ÿæœå‹™</code>, <code>å¢é›†åŠŸèƒ½æ›´æœ‰æ•ˆçš„åˆ©ç”¨å¤šæ ¸CPU</code>ç­‰ç­‰<br>ç¶²è·¯ä¸Šä»‹ç´¹éå¸¸å¤šï¼Œå¯ä»¥åƒè€ƒé€™äº›é€£çµä¾†çœ‹ä»‹ç´¹èˆ‡ç”¨æ³•</p><ul><li><a href="https://tn710617.github.io/zh-tw/pm2/" target="_blank" rel="noopener">pm2 - ç”¨æ³•å¤§å…¨</a> </li><li><a href="https://larrylu.blog/nodejs-pm2-cluster-455ffbd7671" target="_blank" rel="noopener">ä½¿ç”¨ pm2 å•Ÿå‹• Node.js cluster ä»¥æå‡æ•ˆèƒ½</a></li></ul><p>æˆ‘ä¸»è¦æƒ³åˆ†äº«çš„æ˜¯ï¼Œç•¶æˆ‘å€‘ä½¿ç”¨ PM2 æ™‚<br><strong>å¸Œæœ›åœ¨<code>å¢é›†æ¨¡å¼(cluster)</code>ä¸‹é‹è¡ŒNodeæœå‹™ï¼Œåˆè¦è¨­å®š<code>ç’°å¢ƒè®Šæ•¸</code>æ™‚çš„ä½œæ³•</strong><br>ä¸€é–‹å§‹ç›´è¦ºçš„æƒ³æ³•æ˜¯ç›´æ¥éƒ½æ‰“åœ¨åƒæ•¸</p><ul><li><a href="https://stackoverflow.com/questions/43130494/how-to-npm-start-with-pm2-cluster-mode" target="_blank" rel="noopener">how to â€œnpm startâ€ with pm2 cluster mode</a></li><li><a href="https://stackoverflow.com/questions/33656947/passing-environment-variables-to-node-js-using-pm2" target="_blank" rel="noopener">Passing environment variables to node.js using pm2</a></li></ul><p>å¾Œä¾†ç™¼ç¾æ¯”è¼ƒå¥½çš„åšæ³•ï¼Œæ˜¯è¨­ç½®ä¸€å€‹<code>PM2çš„åƒæ•¸è¨­å®šæª”</code><br>(å¾Œä¾†æ‰ç™¼ç¾å…¶å¯¦å®˜æ–¹çš„æ–‡ä»¶å°±å¯«å¾—å¾ˆæ¸…æ¥šäº†)</p><h2 id="ä½¿ç”¨-Ecosystem-File"><a href="#ä½¿ç”¨-Ecosystem-File" class="headerlink" title="ä½¿ç”¨ Ecosystem File"></a>ä½¿ç”¨ Ecosystem File</h2><p><a href="https://pm2.keymetrics.io/docs/usage/environment/" target="_blank" rel="noopener">PM2å®˜æ–¹æ–‡ä»¶</a></p><ol><li>å…ˆç”¢ç”Ÿä¸€å€‹<code>ecosystem.config.js</code></li><li>è¨­ç½®ç¯„ä¾‹</li></ol><pre><code class="JavaScript">module.exports = {  apps : [{    name: &quot;app&quot;,    script: &quot;./app.js&quot;,    env: {      NODE_ENV: &quot;development&quot;,    },    env_production: {      NODE_ENV: &quot;production&quot;,    }  }]}</code></pre><ol start="3"><li>é‹è¡ŒæŒ‡ä»¤</li></ol><pre><code class="Bash">pm2 start ecosystem.config.js --env production</code></pre><p>é€™è£¡å€¼å¾—ç•™æ„çš„æ˜¯<br>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>--env</code>é€™å€‹åƒæ•¸å¾Œé¢æ¥æ˜¯<code>production</code>è€Œä¸æ˜¯<code>env_production</code><br>æˆ‘åŸæœ¬æƒ³èªªæ‡‰è©²æ˜¯è¦è¼¸å…¥è¨­å®šæª”çš„ Object key<br>çµæœç›´æ¥å¤±æ•—ï¼Œæˆ‘é‚„ä¸å¤ é›£å—?<br>å·®é»èººåœ¨åºŠä¸Šè“‹è‘—é¢è¢«æŠ±è‘—è‡ªå·±å“­å‡ºä¾†</p><p>å¾Œä¾†åˆç™¼ç¾å…¶å¯¦åœ¨æ›´ä¸‹é¢çš„å®˜æ–¹æ–‡ä»¶<br>åˆæœ‰èªªæ˜äº†</p><blockquote><p>Example:</p><pre><code class="bash"># Inject what is declared in env_productionpm2 start process.json --env production# Inject what is declared in env_stagingpm2 restart process.json --env staging</code></pre></blockquote><p>( å®³æˆ‘ä¸èƒ½æ€ªå®˜æ–¹æ²’å¯«æ¸…æ¥šäº† )<br>( æ”¹æ€ªä»–æ€éº¼åˆ†é‚£éº¼é–‹å¥½äº† QQ )</p><h2 id="å»¢è©±æ™‚é–“"><a href="#å»¢è©±æ™‚é–“" class="headerlink" title="å»¢è©±æ™‚é–“"></a>å»¢è©±æ™‚é–“</h2><p>æ”¹é€ å®Œè‡ªå·±çš„è¨­ç½®<br>æ˜¯ä¸æ˜¯è¦ºå¾—è‡ªå·±çš„Node.js Serverè®Šå¾—æ›´é€²åŒ–å•¦<br><img src="https://media.giphy.com/media/u1k1kpDZSw5sA/giphy.gif" alt="evolution"><br><strong>é€²åŒ–ç‚º Dev &amp; Production çš†å¯é©æ‡‰çš„é›™æ£²å‹•ç‰©</strong><br>ç»å”±ä¸€é¦–è”¡å¥é›…çš„é›™æ£²å‹•ç‰©</p><blockquote><p>å¾ˆæƒ³å“­~ã€€å“­å®Œç„¡åŠ©~</p></blockquote><p>æ‰“å®Œæ”¶å·¥!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Node-js-PM2-è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬&quot;&gt;&lt;a href=&quot;#Node-js-PM2-è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬&quot; class=&quot;headerlink&quot; title=&quot;Node.js + PM2 è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œæ›´å½ˆæ€§åœ°é–‹ç™¼èˆ‡éƒ¨å±¬&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
    
    
      <category term="éƒ¨å±¬" scheme="https://huskylin.github.io/tags/%E9%83%A8%E5%B1%AC/"/>
    
      <category term="Node.js" scheme="https://huskylin.github.io/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Node.JSé€éODBCé€£æ¥impalaå®Œæ•´æ•™å­¸(ä¸‹)</title>
    <link href="https://huskylin.github.io/2020/06/17/%E5%9C%A8Node-JS%E9%80%8F%E9%81%8EODBC%E9%80%A3%E6%8E%A5Impala%E5%AE%8C%E6%95%B4%E6%95%99%E5%AD%B8-%E4%B8%8B/"/>
    <id>https://huskylin.github.io/2020/06/17/%E5%9C%A8Node-JS%E9%80%8F%E9%81%8EODBC%E9%80%A3%E6%8E%A5Impala%E5%AE%8C%E6%95%B4%E6%95%99%E5%AD%B8-%E4%B8%8B/</id>
    <published>2020-06-17T10:00:22.000Z</published>
    <updated>2020-06-28T09:14:55.305Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸‹"><a href="#åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸‹" class="headerlink" title="åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸‹)"></a>åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸‹)</h1><h2 id="æ­¥é©ŸäºŒï¼Œåœ¨-Node-js-ä¸Šé€£æ¥åˆ°-Ubuntu-ä¸Šçš„-ODBC"><a href="#æ­¥é©ŸäºŒï¼Œåœ¨-Node-js-ä¸Šé€£æ¥åˆ°-Ubuntu-ä¸Šçš„-ODBC" class="headerlink" title="æ­¥é©ŸäºŒï¼Œåœ¨ Node.js ä¸Šé€£æ¥åˆ° Ubuntu ä¸Šçš„ ODBC"></a>æ­¥é©ŸäºŒï¼Œåœ¨ Node.js ä¸Šé€£æ¥åˆ° Ubuntu ä¸Šçš„ ODBC</h2><p>ä¸Šä¸€ç¯‡å®Œæˆäº†<code>åœ¨ Ubuntu ä¸Šå®‰è£ ODBC Driver</code>çš„éƒ¨åˆ†<br>æ¥ä¸‹ä¾†å°±æ˜¯é€é Node.jsä¾†é€£æ¥å•¦<br><img src="https://media.giphy.com/media/oymRV1UYQWLFNM78Xe/giphy.gif" alt="letsgo"></p><h3 id="1-å®‰è£å¥—ä»¶"><a href="#1-å®‰è£å¥—ä»¶" class="headerlink" title="1. å®‰è£å¥—ä»¶"></a>1. å®‰è£å¥—ä»¶</h3><p>çœ‹äº†ä¸€ä¸‹ Node.js é€£æ¥ ODBCçš„ ç›¸é—œå¥—ä»¶<br>é€™å¥—æ˜¯åˆ°è¿‘æœŸéƒ½é‚„æœ‰æœ‰ç¶­æŒæ›´æ–°çš„ï¼Œå› æ­¤æ¡ç”¨<br><a href="https://github.com/markdirish/node-odbc/" target="_blank" rel="noopener">node-odbc</a></p><pre><code class="Bash">npm install odbc</code></pre><h3 id="2-è¨­å®šé€£æ¥"><a href="#2-è¨­å®šé€£æ¥" class="headerlink" title="2. è¨­å®šé€£æ¥"></a>2. è¨­å®šé€£æ¥</h3><p>å®˜æ–¹ç¯„ä¾‹</p><pre><code class="JavaScript">const odbc = require(&#39;odbc&#39;);async function connectToDatabase() {    const connection1 = await odbc.connect(&#39;DSN=MYDSN&#39;);    // connection1 is now an open Connection    // or using a configuration object    const connectionConfig = {        connectionString: &#39;DSN=MYDSN&#39;,        connectionTimeout: 10,        loginTimeout: 10,    }    const connection2 = await odbc.connect(connectionConfig);    // connection2 is now an open Connection}connectToDatabase();</code></pre><p>é€™é‚Šæ¯”è¼ƒè¦æ³¨æ„çš„æ˜¯<br><code>connectionString: &#39;DSN=MYDSN&#39;</code><br>é€™å€‹<code>DSN</code>å°±æ˜¯<code>Data Source Name</code><br>å¦‚æœæ˜¯æŒ‰ç…§ä¸Šä¸€ç¯‡çš„ç¯„ä¾‹ï¼Œæˆ‘å€‘æ˜¯å–åç‚º<code>impalaodbc</code><br>æ‰€ä»¥æœƒé•·é€™æ¨£</p><pre><code class="JavaScript">const connectionConfig = {      connectionString: &#39;DSN=impalaodbc&#39;,      connectionTimeout: 10,      loginTimeout: 10,    }</code></pre><h3 id="3-åŸ·è¡Œ-Query"><a href="#3-åŸ·è¡Œ-Query" class="headerlink" title="3. åŸ·è¡Œ Query"></a>3. åŸ·è¡Œ Query</h3><p>åŸ·è¡Œ Queryã€Pool å¯ä»¥åœ¨å®˜æ–¹æ–‡ä»¶ä¸ŠæŸ¥è©¢ API èˆ‡ç¯„ä¾‹<br>é€™å€‹å¥—ä»¶çš„å®˜æ–¹æ–‡ä»¶ API å¯«å¾—è »æ¸…æ¥šçš„<br><a href="https://github.com/markdirish/node-odbc/#api" target="_blank" rel="noopener">ä¸»è¦å¯ä»¥åœ¨ä¸Šé¢çœ‹</a><br>ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯<br><strong>Impala çš„æ¬„ä½åç¨±æ˜¯ä¸åˆ†å¤§å°å¯«çš„</strong><br><strong>Impala çš„æ¬„ä½åç¨±æ˜¯ä¸åˆ†å¤§å°å¯«çš„</strong><br><strong>Impala çš„æ¬„ä½åç¨±æ˜¯ä¸åˆ†å¤§å°å¯«çš„</strong></p><blockquote><p>Impala identifiers are always case-insensitive. That is, tables named t1 and T1 always refer to the same table, regardless of quote characters. Internally, Impala always folds all specified table and column names to lowercase. This is why the column headers in query output are always displayed in lowercase.<br><a href="https://docs.cloudera.com/documentation/enterprise/5-5-x/topics/impala_identifiers.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡ä»¶èªªæ˜</a></p></blockquote><p>åƒæˆ‘æ˜¯å¾<code>MySQL</code>è½‰ç§»éä¾†çš„å°±æœƒé‡åˆ°å•é¡Œ<br>æ‰€ä»¥æˆ‘å¯«äº†ä¸€å€‹å–ä»£æ¬„ä½åç¨±çš„ Function<br>ç¬¬ä¸€å€‹åƒæ•¸æ˜¯å¾<code>Impala</code>æ’ˆå›ä¾†çš„è³‡æ–™<br>ç¬¬äºŒå€‹åƒæ•¸å‰‡æ˜¯ä½ å¸Œæœ›å–ä»£çš„æ¬„ä½åç¨±<br>ä¾‹å¦‚: <code>[&#39;Id&#39;, &#39;InfoDate&#39;, &#39;ColName&#39;, &#39;Something&#39;...]</code><br>ç›´æ¥å–ä»£æ¯ä¸€å€‹ç‰©ä»¶çš„<code>key</code></p><pre><code class="JavaScript">function toCaseSensitiveKeys(result, newKeys) {  // make keys array to keys object  const replacements = {};  if (newKeys !== undefined) {    newKeys.forEach(key =&gt; {      replacements[key.toLowerCase()] = key;    })  }  // pair keys by replacements object  const data = result.map(row =&gt; {    const replacedItems = Object.keys(row).map(key =&gt; {      const newKey = replacements[key] || key;      return { [newKey]: row[key] };    })    const newResult = replacedItems.reduce((a, b) =&gt; Object.assign({}, a, b));    return newResult;  });  return data;}</code></pre><p>æœ€å¾Œçš„ Query Function </p><pre><code class="JavaScript">const impalaQuery = (sql, values, newKeys) =&gt; {  return new Promise((resolve, reject) =&gt; {    // Create Connection Pool    const connectionConfig = {      connectionString: &#39;DSN=impalaodbc&#39;,      connectionTimeout: 10,      loginTimeout: 10,    }    odbc.connect(connectionConfig, (conError, connection) =&gt; {      if (conError) {        reject(conError);      }      connection.query(sql, values, (err, rows) =&gt; {        if (err) {          // If execute SQL faild, print SQL          connection.createStatement((error1, statement) =&gt; {            if (error1) { console.log(error1, statement); return; } // handle            statement.prepare(sql, (error2) =&gt; {              if (error2) { console.log(error2, statement); return; } // handle              statement.bind(values, (error3) =&gt; {                if (error3) { console.log(error3, statement); return; } // handle              });            });          });          reject(err);        }        else {          const idx = rows.indexOf(&#39;statement&#39;)          const values = rows.slice(0, idx).map((e, i) =&gt; {            return e          })          const data = toCaseSensitiveKeys(values, newKeys);          // print SQL          console.log(rows[&#39;statement&#39;]);          resolve(data);        }      });    });  });};</code></pre><p>ä¸»è¦æ˜¯åŠ å…¥äº†</p><ol><li>éŒ¯èª¤æ™‚é€ééšæ®µä¾†åµéŒ¯</li><li>å°å‡ºåŸ·è¡Œçš„SQL</li><li>è½‰æ›å¤§å°å¯« </li></ol><p>åœ¨å…¶ä»–åœ°æ–¹å°±å¯ä»¥é€™æ¨£ä½¿ç”¨</p><pre><code class="JavaScript">const sql = &#39;yourSQL&#39;;const values = [SomeParms...];const keys = [SomeColNames...];impalaQuery(sql, values, keys)    .then(results =&gt; {        res.status(200).json(results);    })    .catch(err =&gt; {        console.log(err);        res.status(500).send(&#39;DB Error&#39;);    });</code></pre><p><strong>é€™æ¬¡çš„<code>åœ¨Node.JSé€éODBCé€£æ¥Impala</code>å°±å¤§åŠŸå‘Šæˆå•¦!</strong><br>å…¶å¯¦è »è²»å·¥çš„ï¼Œå¯«é€™ç¯‡æ–‡æ™‚ä¹Ÿå›é¡§äº†ä¸å°‘è‹¦é›£<br>å¸Œæœ›å¯ä»¥å¹«åŠ©åˆ°æœ‰åŒæ¨£éœ€æ±‚çš„äºº~<br><img src="https://media.giphy.com/media/oOX5qIDkzDjeo/giphy.gif" alt="cry_laugh"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸‹&quot;&gt;&lt;a href=&quot;#åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸‹&quot; class=&quot;headerlink&quot; title=&quot;åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸‹)&quot;&gt;&lt;/a&gt;åœ¨
      
    
    </summary>
    
    
    
      <category term="éƒ¨å±¬" scheme="https://huskylin.github.io/tags/%E9%83%A8%E5%B1%AC/"/>
    
      <category term="Node.js" scheme="https://huskylin.github.io/tags/Node-js/"/>
    
      <category term="impala" scheme="https://huskylin.github.io/tags/impala/"/>
    
      <category term="ubuntu" scheme="https://huskylin.github.io/tags/ubuntu/"/>
    
      <category term="hadoop" scheme="https://huskylin.github.io/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Node.JSé€éODBCé€£æ¥impalaå®Œæ•´æ•™å­¸(ä¸Š)</title>
    <link href="https://huskylin.github.io/2020/06/15/%E5%9C%A8Node-JS%E9%80%8F%E9%81%8EODBC%E9%80%A3%E6%8E%A5Impala%E5%AE%8C%E6%95%B4%E6%95%99%E5%AD%B8-%E4%B8%8A/"/>
    <id>https://huskylin.github.io/2020/06/15/%E5%9C%A8Node-JS%E9%80%8F%E9%81%8EODBC%E9%80%A3%E6%8E%A5Impala%E5%AE%8C%E6%95%B4%E6%95%99%E5%AD%B8-%E4%B8%8A/</id>
    <published>2020-06-15T10:00:22.000Z</published>
    <updated>2020-06-28T09:13:14.306Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸Š"><a href="#åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸Š" class="headerlink" title="åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸Š)"></a>åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸Š)</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åŸæœ¬å°ˆæ¡ˆçš„å¾Œç«¯ï¼Œåœ¨é–‹ç™¼éšæ®µæ™‚æ¡ç”¨<code>Node.js</code>é€£æ¥<code>MySQL</code><br>çµæœå¾Œä¾†åˆ°éƒ¨å±¬éšæ®µæ™‚è¦æ”¹é€£æ¥åˆ°<code>impala</code><br><strong>åŸæœ¬ä»¥ç‚ºæ˜¯å°äº‹ä¸€æ¨ï¼Œå¾Œä¾†æ¡å‘é€£é€£</strong><br>æ–¼æ˜¯ç”¢ç”Ÿäº†æœ¬ç¯‡ç­†è¨˜<br><img src="https://media.giphy.com/media/JEVqknUonZJWU/giphy.gif" alt="crying"></p><h2 id="åˆå§‹æƒ³æ³•-node-impala-å¥—ä»¶"><a href="#åˆå§‹æƒ³æ³•-node-impala-å¥—ä»¶" class="headerlink" title="åˆå§‹æƒ³æ³• node-impala å¥—ä»¶"></a>åˆå§‹æƒ³æ³• node-impala å¥—ä»¶</h2><p>ä¸€é–‹å§‹çœ‹åˆ° npm è£¡é¢å·²ç¶“æœ‰äººåšå¥½å¥—ä»¶äº†<br>é€£æ¥ç¯„ä¾‹çœ‹èµ·ä¾†ä¹Ÿè »ç°¡æ½”çš„<br>å°±ç›´æ¥æ¡ç”¨ <a href="https://www.npmjs.com/package/node-impala" target="_blank" rel="noopener">node-impala</a><br>æ¸¬è©¦å¾Œçš„ç¢ºä¹Ÿè »å¿«å°±èƒ½å¤ é€£ä¸Šä¸¦ä¸”æ’ˆå–è³‡æ–™<br>ä½†æ˜¯!!<br>éå¾ˆä¹…ä¹‹å¾Œæ‰ç™¼ç¾<br><strong>ä»–çš„queryä¸€æ¬¡æœ€å¤šå›å‚³1024ç­†çµæœ!</strong><br><strong>ä»–çš„queryä¸€æ¬¡æœ€å¤šå›å‚³1024ç­†çµæœ!</strong><br><strong>ä»–çš„queryä¸€æ¬¡æœ€å¤šå›å‚³1024ç­†çµæœ!</strong></p><p>çœ‹äº†issueå¾Œæ‰ç™¼ç¾<br>æ˜¯å› ç‚ºåº•å±¤ä½¿ç”¨<code>Beeswax</code>ä¾†é€£æ¥ï¼Œé€™æ˜¯<code>Beeswax</code>çš„é™åˆ¶ç„¡æ³•æ”¹è®Š</p><blockquote><p>Beeswax limits the query result. It is not possible to increase the size by setting <em>fetch_size</em> <a href="https://github.com/ufukomer/node-impala/blob/master/src/thrift/beeswax.thrift#L129" target="_blank" rel="noopener">here</a>. Letâ€™s use the <strong>HiveServer2</strong> #4. ğŸ™ˆ</p></blockquote><p><a href="https://github.com/ufukomer/node-impala/issues/11#issuecomment-274798646" target="_blank" rel="noopener">åŸè¨è«–ä¸²</a></p><p>ç…ç†¬äº†ä¸€é™£å­å¾Œæ±ºå®šç›´æ¥æ”¾æ£„å¦å°‹ä»–è·¯</p><h2 id="è§£æ³•-ODBC"><a href="#è§£æ³•-ODBC" class="headerlink" title="è§£æ³• ODBC"></a>è§£æ³• ODBC</h2><p>å¾Œä¾†æ‰¾åˆ°çš„æ–¹æ³•æ˜¯åœ¨ç³»çµ±ç’°å¢ƒä¸‹å…ˆè£å¥½ ODBC ä¾†é€£æ¥ Impala<br>å¾Œç«¯ Node.js å†å»é€£ ODBC<br>æˆ‘å€‘çš„ä½œæ¥­ç³»çµ±ç’°å¢ƒæ˜¯ä½¿ç”¨<code>Ubuntu 18.04</code><br>æ‰€ä»¥æ¥ä¸‹ä¾†å°±æ˜¯æœ‰å…©å€‹æ­¥é©Ÿè¦åŸ·è¡Œ</p><ol><li>åœ¨ Ubuntu ä¸Šå®‰è£ ODBC Driver</li><li>åœ¨ Node.js ä¸Šé€£æ¥åˆ° Ubuntu ä¸Šçš„ ODBC</li></ol><h2 id="æ­¥é©Ÿä¸€ï¼Œåœ¨-Ubuntu-ä¸Šå®‰è£-ODBC-Driver"><a href="#æ­¥é©Ÿä¸€ï¼Œåœ¨-Ubuntu-ä¸Šå®‰è£-ODBC-Driver" class="headerlink" title="æ­¥é©Ÿä¸€ï¼Œåœ¨ Ubuntu ä¸Šå®‰è£ ODBC Driver"></a>æ­¥é©Ÿä¸€ï¼Œåœ¨ Ubuntu ä¸Šå®‰è£ ODBC Driver</h2><h3 id="1-ä¸‹è¼‰å®‰è£åŒ…"><a href="#1-ä¸‹è¼‰å®‰è£åŒ…" class="headerlink" title="1. ä¸‹è¼‰å®‰è£åŒ…"></a>1. ä¸‹è¼‰å®‰è£åŒ…</h3><p><a href="https://www.cloudera.com/downloads/connectors/impala/odbc/2-6-10.html" target="_blank" rel="noopener">clouderaä¸‹è¼‰é€£çµ</a><br><a href="https://docs.cloudera.com/documentation/other/connectors/impala-odbc/latest/Cloudera-ODBC-Driver-for-Impala-Install-Guide.pdf#%5B%7B%22num%22%3A218%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C78%2C729.75%2C0%5D" target="_blank" rel="noopener">Cloudera ODBC Driver for Impala å®˜æ–¹æ–‡ä»¶èªªæ˜</a></p><h3 id="2-è¨­å®šç’°å¢ƒè®Šæ•¸"><a href="#2-è¨­å®šç’°å¢ƒè®Šæ•¸" class="headerlink" title="2. è¨­å®šç’°å¢ƒè®Šæ•¸"></a>2. è¨­å®šç’°å¢ƒè®Šæ•¸</h3><pre><code class="Bash">export LD_LIBRARY_PATH=/usr/local/lib:/opt/cloudera/impalaodbc/lib/64export CLOUDERAIMPALAINI=/opt/cloudera/impalaodbc/lib/64/cloudera.impalaodbc.iniexport LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libodbcinst.soexport ODBCINI=/etc/odbc.iniexport ODBCSYSINI=/etc</code></pre><h3 id="3-è¨­å®š-ODBC-driver-çš„åƒæ•¸æª”"><a href="#3-è¨­å®š-ODBC-driver-çš„åƒæ•¸æª”" class="headerlink" title="3. è¨­å®š ODBC driver çš„åƒæ•¸æª”"></a>3. è¨­å®š ODBC driver çš„åƒæ•¸æª”</h3><p>å¤§è‡´ä¸Šé•·é€™æ¨£<br>æ¯”è¼ƒéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯</p><ol><li><code>[impalaodbc]</code> é€™æ˜¯ä½ è‡ªå·±è¦å–çš„ Data Source Name</li><li><code>PORT</code>è¦æ³¨æ„ä¸€ä¸‹æ˜¯21050é‚„æ˜¯21000</li><li>`Driveâ€µè·¯å¾‘</li><li>å¸³è™Ÿå¯†ç¢¼ã€DBä½ç½®ç­‰ç­‰<br>å…¶ä»–éƒ½æ˜¯é è¨­å€¼è€Œå·²ï¼Œè‡ªè¡Œåƒè€ƒè®ŠåŒ–å³å¯</li></ol><pre><code class="Bash">[impalaodbc]# Description: DSN Description. This key is not necessary and is only to give a description of the data# source.Description=Cloudera ODBC Driver for Impala (64-bit) DSN# Driver: The location where the ODBC driver is installed to.Driver=/opt/cloudera/impalaodbc/lib/64/libclouderaimpalaodbc64.so# The DriverUnicodeEncoding setting is only used for SimbaDM When set to 1, SimbaDM runs in UTF-16 mode. When#set to 2, SimbaDM runs in UTF-8 mode. DriverUnicodeEncoding=2# Values for HOST, PORT, KrbFQDN, and KrbServiceName should be set here. They can also be specified on the# connection string.HOST=Impala Serverçš„IPä½ç½®PORT=21050Database=DBåç¨±# The authentication mechanism. 0 - no authentication. 1 - Kerberos authentication 2 - Username# authentication. 3 - Username/password authentication. 4 - Username/password authentication with SSL.AuthMech=0# Kerberos related settings.KrbFQDN=KrbRealm=KrbServiceName=# Username/password authentication with SSL settings.UID=DBå¸³è™ŸPWD=DBå¯†ç¢¼CAIssuedCertNamesMismatch=1TrustedCerts=/opt/cloudera/impalaodbc/lib/64/cacerts.pem# Specify the proxy user ID to use. DelegationUID=# General settingsTSaslTransportBufSize=1000RowsFetchedPerBlock=1000SocketTimeout=0</code></pre><h3 id="4-å®‰è£-unixODBC"><a href="#4-å®‰è£-unixODBC" class="headerlink" title="4. å®‰è£ unixODBC"></a>4. å®‰è£ unixODBC</h3><pre><code class="Bash">sudo apt-get install unixODBC unixODBC-dev</code></pre><h3 id="5-æ¸¬è©¦"><a href="#5-æ¸¬è©¦" class="headerlink" title="5. æ¸¬è©¦"></a>5. æ¸¬è©¦</h3><ol><li>æŸ¥çœ‹ä½ çš„ODBCè¨­å®š<pre><code class="Bash"> odbcinst -q -s</code></pre> å¦‚æœæˆåŠŸçš„è©±æ‡‰è©²æœƒé¡¯ç¤ºä½ çš„ Data Source Name</li><li>æ¸¬è©¦é€£ç·š<pre><code class="Bash"> isql -v impalaodbc</code></pre> å¦‚æœæˆåŠŸçš„è©±æ‡‰è©²æœƒé¡¯ç¤ºä½ çš„é€£ç·šå¾Œä»‹é¢</li></ol><p><img src="https://i.imgur.com/gzoUbOp.png" alt=""></p><p>åˆ°é€™éƒ¨åˆ†å®Œæˆäº†åœ¨ Ubuntu ä¸Šå®‰è£ ODBC Driver<br><strong>\ æ­å–œæ­å–œ / \ ç‘èŠ±ç‘èŠ±/</strong><br><img src="https://media.giphy.com/media/MhHXeM4SpKrpC/giphy.gif" alt="congrats"><br>å–˜å£æ°£ï¼Œä¸‹ä¸€ç¯‡å†ä¾†è¬› æ­¥é©ŸäºŒ Node.js çš„éƒ¨åˆ†~</p><h2 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="headerlink" title="åƒè€ƒé€£çµ"></a>åƒè€ƒé€£çµ</h2><ol><li><a href="http://hadoop4beginner.blogspot.com/2015/05/installing-impala-odbc-driver-in-ubuntu.html" target="_blank" rel="noopener">Installing Impala ODBC Driver in Ubuntu 64 bit </a></li><li><a href="https://blog.csdn.net/yangzhaohui168/article/details/38800803" target="_blank" rel="noopener">Impala ODBC å®‰è£…ç¬”è®°</a></li><li><a href="https://blog.csdn.net/ggz631047367/article/details/50703990" target="_blank" rel="noopener">ubuntu14.04é…ç½®impalaçš„odbcè¿æ¥</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸Š&quot;&gt;&lt;a href=&quot;#åœ¨Node-JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸-ä¸Š&quot; class=&quot;headerlink&quot; title=&quot;åœ¨Node.JSé€éODBCé€£æ¥Impalaå®Œæ•´æ•™å­¸(ä¸Š)&quot;&gt;&lt;/a&gt;åœ¨
      
    
    </summary>
    
    
    
      <category term="éƒ¨å±¬" scheme="https://huskylin.github.io/tags/%E9%83%A8%E5%B1%AC/"/>
    
      <category term="Node.js" scheme="https://huskylin.github.io/tags/Node-js/"/>
    
      <category term="impala" scheme="https://huskylin.github.io/tags/impala/"/>
    
      <category term="ubuntu" scheme="https://huskylin.github.io/tags/ubuntu/"/>
    
      <category term="hadoop" scheme="https://huskylin.github.io/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu Server 18.04 é›¢ç·šç‹€æ…‹ä¸‹å®‰è£ MySQL</title>
    <link href="https://huskylin.github.io/2019/07/16/Ubuntu-Server-18-04-%E9%9B%A2%E7%B7%9A%E7%8B%80%E6%85%8B%E4%B8%8B%E5%AE%89%E8%A3%9D-MySQL/"/>
    <id>https://huskylin.github.io/2019/07/16/Ubuntu-Server-18-04-%E9%9B%A2%E7%B7%9A%E7%8B%80%E6%85%8B%E4%B8%8B%E5%AE%89%E8%A3%9D-MySQL/</id>
    <published>2019-07-16T03:35:15.000Z</published>
    <updated>2020-06-16T03:46:11.270Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨-Ubuntu-Server-18-04-é›¢ç·šç‹€æ…‹ä¸‹å®‰è£-MySQL-Install-MySQL-on-Ubuntu-While-Offline"><a href="#åœ¨-Ubuntu-Server-18-04-é›¢ç·šç‹€æ…‹ä¸‹å®‰è£-MySQL-Install-MySQL-on-Ubuntu-While-Offline" class="headerlink" title="åœ¨ Ubuntu Server 18.04 é›¢ç·šç‹€æ…‹ä¸‹å®‰è£ MySQL (Install MySQL on Ubuntu While Offline)"></a>åœ¨ Ubuntu Server 18.04 é›¢ç·šç‹€æ…‹ä¸‹å®‰è£ MySQL (Install MySQL on Ubuntu While Offline)</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘ä¸€å€‹å°ˆæ¡ˆé‡åˆ°çš„æƒ…æ³ï¼ŒåŸºæ–¼è³‡å®‰æ”¿ç­–è€ƒé‡ï¼Œè¦å®šæ©Ÿå™¨ä¸èƒ½é€£å¤–éƒ¨ç¶²è·¯<br>é€™æ¨£å°±ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>sudo apt-get install mysql-serve</code>ä¾†å®‰è£<br>éç¨‹è »ä¸æ–¹ä¾¿çš„ï¼Œè¨˜éŒ„ä¸€ä¸‹çµ¦é‡åˆ°åŒæ¨£è™•å¢ƒçš„äººã€‚<br>ä½œæ³•ä¸»è¦åƒè€ƒäº†é€™ç¯‡æ–‡ç« : <a href="https://www.cnblogs.com/JasonTech0713/p/6690949.html" target="_blank" rel="noopener">ubuntu16.04 å®‰è£…ç¦»çº¿ mysql5.7.17</a><br>ä½†æ˜¯<strong>MySQL 8.0 ç‰ˆæœ¬èˆ‡ä»¥å‰çš„ç‰ˆæœ¬å®‰è£æ­¥é©Ÿç•¥æœ‰ä¸åŒ</strong>ï¼Œæœƒåœ¨ä»¥ä¸‹å…§å®¹ä¸­æåˆ°</p><hr><h2 id="æº–å‚™å®‰è£åŒ…"><a href="#æº–å‚™å®‰è£åŒ…" class="headerlink" title="æº–å‚™å®‰è£åŒ…"></a>æº–å‚™å®‰è£åŒ…</h2><h3 id="1-ä¸‹è¼‰å°æ‡‰çš„-MySQL-å®‰è£åŒ…"><a href="#1-ä¸‹è¼‰å°æ‡‰çš„-MySQL-å®‰è£åŒ…" class="headerlink" title="1. ä¸‹è¼‰å°æ‡‰çš„ MySQL å®‰è£åŒ…"></a>1. ä¸‹è¼‰å°æ‡‰çš„ MySQL å®‰è£åŒ…</h3><p>æœ¬æ–‡ä»¥<code>Ubuntu Linux 18.04 (x86, 64-bit), DEB Bundle</code>ç‚ºä¾‹<br><img src="https://i.imgur.com/ZJVBRTi.png" alt="MySQLå®˜ç¶²ä¸‹è¼‰"></p><h3 id="2-æº–å‚™-USB"><a href="#2-æº–å‚™-USB" class="headerlink" title="2. æº–å‚™ USB"></a>2. æº–å‚™ USB</h3><p>æª¢æŸ¥ä¸€ä¸‹è£¡é¢åŒ…å«é€™äº›æª”æ¡ˆ<br>æŠŠ<code>mysql-server_8.0.16â€“2ubuntu18.04_amd64.deb-bundle.tar</code><br>æ”¾ç½®åˆ° USB éš¨èº«ç¢Ÿè£ç½®ä¸­<br><img src="https://i.imgur.com/5dEPbNl.png" alt="mysql-server-deb-bundle"></p><blockquote><p>è¨»è¨˜: é€™é‚Š USB è¦å…ˆåœ¨ Ubuntu ç’°å¢ƒä¸­æ¸¬è©¦çœ‹çœ‹èƒ½ä¸èƒ½ç”¨ï¼Œæœ‰äº›éœ€è¦é‡æ–°æ ¼å¼åŒ–</p></blockquote><hr><h2 id="æ›è¼‰-USB-éš¨èº«ç¢Ÿ"><a href="#æ›è¼‰-USB-éš¨èº«ç¢Ÿ" class="headerlink" title="æ›è¼‰ USB éš¨èº«ç¢Ÿ"></a>æ›è¼‰ USB éš¨èº«ç¢Ÿ</h2><h3 id="1-å…ˆæŸ¥-USB-éš¨èº«ç¢Ÿæ˜¯è¢«ç³»çµ±è¾¨è­˜æˆé‚£å€‹è£ç½®"><a href="#1-å…ˆæŸ¥-USB-éš¨èº«ç¢Ÿæ˜¯è¢«ç³»çµ±è¾¨è­˜æˆé‚£å€‹è£ç½®" class="headerlink" title="1. å…ˆæŸ¥ USB éš¨èº«ç¢Ÿæ˜¯è¢«ç³»çµ±è¾¨è­˜æˆé‚£å€‹è£ç½®"></a>1. å…ˆæŸ¥ USB éš¨èº«ç¢Ÿæ˜¯è¢«ç³»çµ±è¾¨è­˜æˆé‚£å€‹è£ç½®</h3><p><code>fdisk -l</code><br>sda å¾ˆå¯èƒ½æ˜¯ç¡¬ç¢Ÿ,å¾€ä¸‹æŸ¥å®¹é‡å¯ä»¥æ‰¾åˆ°éš¨èº«ç¢Ÿçš„ç·¨è™Ÿ<br>æˆ‘å€‘å‡è¨­ç‚º sdb<br><img src="https://i.imgur.com/fmLmCIO.png" alt=""></p><h3 id="2-å»ºç«‹-USB-éš¨èº«ç¢Ÿçš„æ›è¼‰é»ï¼š"><a href="#2-å»ºç«‹-USB-éš¨èº«ç¢Ÿçš„æ›è¼‰é»ï¼š" class="headerlink" title="2. å»ºç«‹ USB éš¨èº«ç¢Ÿçš„æ›è¼‰é»ï¼š"></a>2. å»ºç«‹ USB éš¨èº«ç¢Ÿçš„æ›è¼‰é»ï¼š</h3><p><code>mkdir /mnt/usb</code></p><h3 id="3-æ›è¼‰-USB-éš¨èº«ç¢Ÿ"><a href="#3-æ›è¼‰-USB-éš¨èº«ç¢Ÿ" class="headerlink" title="3. æ›è¼‰ USB éš¨èº«ç¢Ÿ"></a>3. æ›è¼‰ USB éš¨èº«ç¢Ÿ</h3><p><code>mount -v -t auto /dev/sdb /mnt/usb</code></p><blockquote><p>-v é¡¯ç¤ºè³‡è¨Š<br>-t auto è®“ç³»çµ±è‡ªå‹•åˆ†è¾¯æª”æ¡ˆç³»çµ±</p></blockquote><h3 id="4-åˆ°-mnt-usb-å¯çœ‹åˆ°-usb-çš„å…§å®¹"><a href="#4-åˆ°-mnt-usb-å¯çœ‹åˆ°-usb-çš„å…§å®¹" class="headerlink" title="4. åˆ° /mnt/usb å¯çœ‹åˆ° usb çš„å…§å®¹"></a>4. åˆ° /mnt/usb å¯çœ‹åˆ° usb çš„å…§å®¹</h3><p>è§£å£“ç¸®å¾Œæª¢è¦–ä¸€ä¸‹æª”æ¡ˆ<br><img src="https://i.imgur.com/x2u701t.png" alt="USBæ›è¼‰å…§å®¹"></p><blockquote><p>è¨»è¨˜: æª”åå¤šä¸€å€‹(1)çš„éƒ¨ä»½æ˜¯æˆ‘æœ‰é‡æ–°ä¸‹è¼‰é<br>ç¬¬ä¸€æ¬¡ä¸‹è¼‰æ™‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æª”æ¡ˆæœ‰æ¯€æï¼Œå‡ºç¾ç•°å¸¸éŒ¯èª¤<br>å¦‚æœæœ‰é‡åˆ°ä¹Ÿå¯ä»¥è©¦è©¦çœ‹é‡æ–°ä¸‹è¼‰</p></blockquote><hr><h2 id="é–‹å§‹å®‰è£"><a href="#é–‹å§‹å®‰è£" class="headerlink" title="é–‹å§‹å®‰è£"></a>é–‹å§‹å®‰è£</h2><h3 id="1-ä¸‹è¼‰ä¾è³´çš„å®‰è£åŒ…"><a href="#1-ä¸‹è¼‰ä¾è³´çš„å®‰è£åŒ…" class="headerlink" title="1. ä¸‹è¼‰ä¾è³´çš„å®‰è£åŒ…"></a>1. ä¸‹è¼‰ä¾è³´çš„å®‰è£åŒ…</h3><p>æ ¹æ“šåƒè€ƒæ–‡ç« ï¼Œé‚„éœ€è¦å…©å€‹é¡å¤–ä¾è³´åŒ…ï¼Œå¯ä»¥åœ¨é€™é‚Šä¸‹è¼‰<br><a href="https://pkgs.org/download/libaio1" target="_blank" rel="noopener">https://pkgs.org/download/libaio1</a><br><a href="https://pkgs.org/download/libmecab2" target="_blank" rel="noopener">https://pkgs.org/download/libmecab2</a></p><h3 id="2-å®‰è£-MySQL"><a href="#2-å®‰è£-MySQL" class="headerlink" title="2. å®‰è£ MySQL"></a>2. å®‰è£ MySQL</h3><ol><li><code>sudo dpkg -i mysql-common_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg-preconfigure mysql-community-server_8.0.16â€“2ubuntu18.04_amd64.deb</code><br><strong>(é€™æ­¥é©Ÿæœƒè·³å‡ºå®‰è£ç•«é¢ï¼Œä¸¦ä¸”éœ€è¦è¼¸å…¥ root å¯†ç¢¼)</strong></li><li><code>sudo dpkg -i libmysqlclient21_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i libmysqlclient-dev_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li>åƒè€ƒæ–‡ç« ä¸­é€™ä¸€æ­¥æ˜¯å®‰è£<code>libmysqld-dev_5.7.16â€“1ubuntu16.04_amd64.deb</code><br>ä½†æ˜¯æ ¹æ“šå®˜æ–¹ç‰ˆæœ¬è³‡è¨Šï¼Œ8.0 ç‰ˆæœ¬å·²ç¶“ä¸éœ€è¦é€™å€‹æª”æ¡ˆäº†ï¼Œæ‰€ä»¥ä¸éœ€è¦åšé€™å€‹æ­¥é©Ÿ<br><img src="https://i.imgur.com/Czreha1.png" alt="MySQL 8.0å®˜æ–¹è³‡è¨Š"></li><li>åƒè€ƒæ–‡ç« ä¸­çš„é€™æ­¥é©Ÿæ˜¯å®‰è£<code>mysql-community-client_8.0.16â€“2ubuntu18.04_amd64.deb</code><br>ä¸éå¦‚æœç›´æ¥å®‰è£æœƒè·³å‡ºéŒ¯èª¤ï¼Œé¡¯ç¤ºç¼ºå°‘ä¾è³´ï¼Œæ‰€ä»¥åœ¨é€™ 8.0 ä¸­éœ€è¦å…ˆå®‰è£<br><code>mysql-community-client-core_8.0.16â€“2ubuntu18.04_amd64.deb</code><br>æ‰€ä»¥åŸ·è¡Œ<br><code>sudo dpkg -i mysql-community-client-core_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i mysql-community-client_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i mysql-client_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i mysql-common_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li>åƒè€ƒæ–‡ç« ä¸­çš„é€™æ­¥é©Ÿæ˜¯å®‰è£<code>mysql-community-server_8.0.16â€“2ubuntu18.04_amd64.de</code><br>ä¸éå¦‚æœç›´æ¥å®‰è£æœƒè·³å‡ºéŒ¯èª¤ï¼Œé¡¯ç¤ºç¼ºå°‘ä¾è³´ï¼Œæ‰€ä»¥åœ¨é€™ 8.0 ä¸­éœ€è¦å…ˆå®‰è£<br><code>mysql-community-server-core_8.0.16â€“2ubuntu18.04_amd64.deb</code><br>æ‰€ä»¥åŸ·è¡Œ<br><code>sudo dpkg -i mysql-community-server-core_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i mysql-community-server_8.0.16â€“2ubuntu18.04_amd64.deb</code></li><li><code>sudo dpkg -i mysql-server_8.0.16â€“2ubuntu18.04_amd64.deb</code><br><strong>æ‰“å®Œé€™ä¸€å¤§å¨æŒ‡ä»¤å¾Œï¼Œå°±å¤§åŠŸå‘Šæˆå•¦!</strong><br>æœ€å¾Œå¯ä»¥å» MySQL è£¡é¢è©¦ä¸€ä¸‹æŒ‡ä»¤ï¼Œç¢ºèªå®‰è£çµæœ<br><code>mysql -u root -p</code></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åœ¨-Ubuntu-Server-18-04-é›¢ç·šç‹€æ…‹ä¸‹å®‰è£-MySQL-Install-MySQL-on-Ubuntu-While-Offline&quot;&gt;&lt;a href=&quot;#åœ¨-Ubuntu-Server-18-04-é›¢ç·šç‹€æ…‹ä¸‹å®‰è£-MySQL-Install-MyS
      
    
    </summary>
    
    
    
      <category term="Ubuntu" scheme="https://huskylin.github.io/tags/Ubuntu/"/>
    
      <category term="éƒ¨å±¬" scheme="https://huskylin.github.io/tags/%E9%83%A8%E5%B1%AC/"/>
    
      <category term="MySQL" scheme="https://huskylin.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Leafletè®€å–GeoJSONæª”</title>
    <link href="https://huskylin.github.io/2018/10/07/Leaflet%E8%AE%80%E5%8F%96GeoJSON%E6%AA%94/"/>
    <id>https://huskylin.github.io/2018/10/07/Leaflet%E8%AE%80%E5%8F%96GeoJSON%E6%AA%94/</id>
    <published>2018-10-07T10:00:22.000Z</published>
    <updated>2020-06-28T09:19:21.981Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Leaflet-è®€å–-GeoJSON-æª”"><a href="#Leaflet-è®€å–-GeoJSON-æª”" class="headerlink" title="Leaflet è®€å– GeoJSON æª”"></a>Leaflet è®€å– GeoJSON æª”</h1><p>é€é<br>åœ¨åœ°åœ–ä¸ŠæŠŠå°ç£ç¸£å¸‚åœ°å€æ¡†é¸èµ·ä¾†<br>ä¸¦ä¸”é»æ“Šå¾Œæœƒæœ‰ popup æç¤ºè©²åœ°å€çš„ç¸£å¸‚åç¨±<br>ç·´ç¿’ Leaflet çš„ä¸€äº›æ“ä½œ</p><h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><p>å…ˆç…§è‘—å®˜ç¶²æ•™å­¸<br>å¼•å…¥ç›¸é—œæ–‡ä»¶<br>æŠŠåˆå§‹åœ°åœ–å»ºå‡ºä¾†<br><a href="https://leafletjs.com/examples/quick-start/" target="_blank" rel="noopener">https://leafletjs.com/examples/quick-start/</a></p><pre><code class="JavaScript">//  å»ºç«‹ Leaflet åœ°åœ–var map = L.map(&quot;mapid&quot;);//  è¨­å®šç¶“ç·¯åº¦åº§æ¨™map.setView(new L.LatLng(25, 121.74739), 13);//  è¨­å®šåœ–è³‡ä¾†æºvar osmUrl = &quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;;var osm = new L.TileLayer(osmUrl, { minZoom: 3, maxZoom: 16 });map.addLayer(osm);</code></pre><p><img src="https://i.imgur.com/e8jdeNm.png" alt=""></p><h2 id="è®€å…¥-GeoJSON-æª”"><a href="#è®€å…¥-GeoJSON-æª”" class="headerlink" title="è®€å…¥ GeoJSON æª”"></a>è®€å…¥ GeoJSON æª”</h2><p>æ ¹æ“š<a href="https://noob.tw/openstreetmap/" target="_blank" rel="noopener">Web è¦–è¦ºåŒ–(å››)ï¼šå»ºç«‹ OpenStreetMap åœ°åœ–</a>æåˆ°</p><blockquote><p>Leaflet ç„¡æ³•ç›´æ¥è®€å– GeoJSON æª”æ¡ˆï¼Œå¿…é ˆå…ˆé€é Ajax ç­‰æ–¹å¼ä¸‹è¼‰ä¸‹ä¾†æ‰è¡Œã€‚é€™é‚Šå°‡ä½¿ç”¨ jQuery åšä¾‹å­</p></blockquote><pre><code class="JavaScript">$.getJSON(&quot;YOURFILE.json&quot;, function (r) {  L.geoJSON(r, { color: &quot;#333&quot; }).addTo(map);});</code></pre><p>é€™æ¨£å°±å¯ä»¥è®€å– geoJSON</p><h2 id="æ›¿å€å¡Šè‘—è‰²"><a href="#æ›¿å€å¡Šè‘—è‰²" class="headerlink" title="æ›¿å€å¡Šè‘—è‰²"></a>æ›¿å€å¡Šè‘—è‰²</h2><p>å¸Œæœ›è®“ä¸åŒå€å¡Šæœ‰ä¸åŒé¡è‰²<br>é€™é‚Šè©¦åšä¸€å€‹ï¼ŒæŠŠæ–°åŒ—å¸‚è‘—è‰²</p><pre><code class="JavaScript">$.getJSON(&quot;taiwan.json&quot;, function (r) {  L.geoJSON(r, {    //  æ¨£å¼å¯é€éfunctionæ“ä½œ    style: function (feature) {      if (feature.properties.COUNTYID == 65) {        console.log(feature.properties.NAME_2014);        return { color: &quot;#4f45c0&quot; };      } else {        return { color: &quot;#444444&quot; };      }    },    onEachFeature: onEachFeature,  }).addTo(map);});</code></pre><p><img src="https://i.imgur.com/VWeuBWb.png" alt=""></p><h2 id="é»æ“Šå€å¡Šå½ˆå‡ºæç¤º"><a href="#é»æ“Šå€å¡Šå½ˆå‡ºæç¤º" class="headerlink" title="é»æ“Šå€å¡Šå½ˆå‡ºæç¤º"></a>é»æ“Šå€å¡Šå½ˆå‡ºæç¤º</h2><p>é€™é‚Šå¸Œæœ›è©²ç¸£å¸‚å€å¡Šå¾Œæœƒå½ˆå‡ºæç¤ºçš„è¦–çª—<br>é€™é‚Šçš„ NAME_2014 æ˜¯è©²è³‡æ–™ä¸­çš„ properties æœ‰é€™å€‹ NAME_2014 å±¬æ€§<br>è£¡é¢æ˜¯è©²ç¸£å¸‚åœ°å€çš„åå­—</p><pre><code class="JavaScript">//  ç¶å®šæ¯å€‹featureåšPopupï¼Œå¯ä»¥è¦–è³‡æ–™æœ‰ä»€éº¼propertiesä¾†æ±ºå®šfunction onEachFeature(feature, layer) {  if (feature.properties &amp;&amp; feature.properties.NAME_2014) {    layer.bindPopup(feature.properties.NAME_2014);  }}</code></pre><p><img src="https://i.imgur.com/OIT3Ta1.png" alt=""></p><p>å¦å¤–å†åŠ å…¥å®˜ç¶²ç¯„ä¾‹ä¸­<br>é»åœ°åœ–çš„å…¶ä»–ä½ç½®å¾Œ<br>é¡¯ç¤ºåº§æ¨™ä½ç½®</p><pre><code class="JavaScript">var popup = L.popup();function onMapClick(e) {  popup    .setLatLng(e.latlng)    .setContent(&quot;You clicked the map at &quot; + e.latlng.toString())    .openOn(map);}map.on(&quot;click&quot;, onMapClick);</code></pre><p><img src="https://i.imgur.com/HT8HW9s.png" alt=""></p><h2 id="å…¶ä»–å»¶ä¼¸"><a href="#å…¶ä»–å»¶ä¼¸" class="headerlink" title="å…¶ä»–å»¶ä¼¸"></a>å…¶ä»–å»¶ä¼¸</h2><p>å¦‚æœæƒ³è¦è‡ªå·±ç¹ªè£½<br>å¯ä»¥ä½¿ç”¨<a href="http://geojson.io" target="_blank" rel="noopener">geojson.io</a>çš„æœå‹™</p><h2 id="è³‡æ–™ä¾†æº"><a href="#è³‡æ–™ä¾†æº" class="headerlink" title="è³‡æ–™ä¾†æº"></a>è³‡æ–™ä¾†æº</h2><p><a href="https://sheethub.com/ronnywang/%E4%B8%AD%E8%8F%AF%E6%B0%91%E5%9C%8B%E7%B8%A3%E5%B8%82" target="_blank" rel="noopener">ä¸­è¯æ°‘åœ‹ç¸£å¸‚çš„ geojson æª”</a><br><a href="https://leafletjs.com/examples/geojson/" target="_blank" rel="noopener">Leaflet å° GeoJSON çš„å®˜æ–¹èªªæ˜</a><br><a href="https://www.youtube.com/watch?v=fDfkjx-VhLI&list=PL4TUtpN0YlFK3YRuJIS0KIxalBGJ4eqIR" target="_blank" rel="noopener">è€å¤–æ•™å­¸å½±ç‰‡</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Leaflet-è®€å–-GeoJSON-æª”&quot;&gt;&lt;a href=&quot;#Leaflet-è®€å–-GeoJSON-æª”&quot; class=&quot;headerlink&quot; title=&quot;Leaflet è®€å– GeoJSON æª”&quot;&gt;&lt;/a&gt;Leaflet è®€å– GeoJSON æª”&lt;/h1&gt;&lt;
      
    
    </summary>
    
    
    
      <category term="Leaflet" scheme="https://huskylin.github.io/tags/Leaflet/"/>
    
      <category term="JavaScript" scheme="https://huskylin.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CSSæ”¾å¤§åœ–ç‰‡æœƒçˆ†æ¡†</title>
    <link href="https://huskylin.github.io/2018/09/01/CSS%E6%94%BE%E5%A4%A7%E5%9C%96%E7%89%87%E6%9C%83%E7%88%86%E6%A1%86/"/>
    <id>https://huskylin.github.io/2018/09/01/CSS%E6%94%BE%E5%A4%A7%E5%9C%96%E7%89%87%E6%9C%83%E7%88%86%E6%A1%86/</id>
    <published>2018-09-01T10:08:02.000Z</published>
    <updated>2020-06-28T09:15:57.653Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆæ­¥æƒ³æ³•"><a href="#åˆæ­¥æƒ³æ³•" class="headerlink" title="åˆæ­¥æƒ³æ³•"></a>åˆæ­¥æƒ³æ³•</h2><p>æƒ³è¦å¯¦ä½œä¸€å€‹æ»‘é¼ æ”¾ä¸Šå»æ™‚æœƒæ”¾å¤§åœ–ç‰‡ç°¡å–®çš„æ•ˆæœ<br>ä½¿ç”¨åˆ°çš„æŠ€å·§</p><ol><li><code>:hover Selectors(é¸æ“‡å™¨)</code><br>ç”¨ä¾†é¸æ“‡æ»‘é¼ æŒ‡æ¨™ç¶“éåœ¨ä¸Šé¢æ™‚çš„å…ƒç´ </li><li><code>transform: scale()</code><br>transform å±¬æ€§è£¡ï¼Œç”¨ä¾†ç¸®æ”¾å…ƒç´ å¤§å°</li></ol><p>é€™å…©å€‹åŠ èµ·ä¾†å°±å¯ä»¥åšå‡ºä¸Šè¿°çš„æ•ˆæœ<br>ä¸éè¢«é¸æ“‡åˆ°æ”¾å¤§å¾Œçš„åœ–ç‰‡æœƒçˆ†å‡ºæ¡†æ¡†<br>é€™æ™‚å€™å°±éœ€è¦åŠ ä¸Š<br><code>overflow: hidden</code><br>ç•¶è¶…å‡ºé‚Šç•Œç¯„åœæ™‚ï¼Œå°‡å¤šé¤˜çš„éƒ¨åˆ†éš±è—èµ·ä¾†ä¸é¡¯ç¤º</p><h2 id="å•é¡Œ"><a href="#å•é¡Œ" class="headerlink" title="å•é¡Œ"></a>å•é¡Œ</h2><p>åŸæœ¬ä»¥ç‚ºåˆ°é€™é‚Šå°±å¯ä»¥æˆåŠŸå°‡æ•ˆæœå‘ˆç¾<br>ä½†æ˜¯å»ç™¼ç¾æœƒå› ç‚º padding çš„é–“è·<br>è®“åœ–ç‰‡æ”¾å¤§çš„ç¯„åœæœ‰äº†â€äº‚é•·å¤§çš„ç©ºé–“â€</p><h2 id="è§£æ±º"><a href="#è§£æ±º" class="headerlink" title="è§£æ±º"></a>è§£æ±º</h2><p>å¾Œä¾†åœ¨åœ–ç‰‡å¤–é¢å¤šåŒ…ä¸€å€‹ div<br>ä¸¦å°‡ overflow: hidden å¯«åœ¨è£¡é¢<br>æ–‡å­—èˆ‡åœ–ç‰‡é–“çš„ padding å°±ä¸æœƒçµ¦åœ–ç‰‡äº‚é•·å¤§çš„ç©ºé–“äº†</p><pre><code class="CSS">.col-grid {  max-width: 450px;  overflow: hidden;  img {    max-width: 450px;    &amp;:hover {      transform: scale(1.1);      transition: 0.5s;    }  }}</code></pre><h2 id="çµæœ"><a href="#çµæœ" class="headerlink" title="çµæœ"></a>çµæœ</h2><p>å·¦é‚Šç‚ºç›®æ¨™æ•ˆæœï¼Œå³é‚Šæ˜¯æœ‰éé æœŸçˆ†æ¡†çš„æ•ˆæœ<br><img src="https://i.imgur.com/Bt5K9qX.gif" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åˆæ­¥æƒ³æ³•&quot;&gt;&lt;a href=&quot;#åˆæ­¥æƒ³æ³•&quot; class=&quot;headerlink&quot; title=&quot;åˆæ­¥æƒ³æ³•&quot;&gt;&lt;/a&gt;åˆæ­¥æƒ³æ³•&lt;/h2&gt;&lt;p&gt;æƒ³è¦å¯¦ä½œä¸€å€‹æ»‘é¼ æ”¾ä¸Šå»æ™‚æœƒæ”¾å¤§åœ–ç‰‡ç°¡å–®çš„æ•ˆæœ&lt;br&gt;ä½¿ç”¨åˆ°çš„æŠ€å·§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;:hover Sel
      
    
    </summary>
    
    
    
      <category term="CSS" scheme="https://huskylin.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨Pythonæ‰“é€ FBæŠ½çæ©Ÿï¼Œå°‡å›è¦†ç•™è¨€ä¹Ÿåˆ—å…¥åƒæŠ½çå–®</title>
    <link href="https://huskylin.github.io/2018/05/13/%E7%94%A8Python%E6%89%93%E9%80%A0FB%E6%8A%BD%E7%8D%8E%E6%A9%9F%EF%BC%8C%E5%B0%87%E5%9B%9E%E8%A6%86%E7%95%99%E8%A8%80%E4%B9%9F%E5%88%97%E5%85%A5%E5%8F%83%E6%8A%BD%E7%8D%8E%E5%96%AE/"/>
    <id>https://huskylin.github.io/2018/05/13/%E7%94%A8Python%E6%89%93%E9%80%A0FB%E6%8A%BD%E7%8D%8E%E6%A9%9F%EF%BC%8C%E5%B0%87%E5%9B%9E%E8%A6%86%E7%95%99%E8%A8%80%E4%B9%9F%E5%88%97%E5%85%A5%E5%8F%83%E6%8A%BD%E7%8D%8E%E5%96%AE/</id>
    <published>2018-05-13T10:11:47.000Z</published>
    <updated>2020-06-14T11:23:50.492Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‹•æ©Ÿ"><a href="#å‹•æ©Ÿ" class="headerlink" title="å‹•æ©Ÿ"></a>å‹•æ©Ÿ</h2><p>æœ€è¿‘åœ¨è‡‰æ›¸ä¸ŠåƒåŠ æ´»å‹•éœ€è¦æœ‹å‹å€‘æŒ‰è®š<br>æˆ‘å°±è¾¦äº†å€‹æŠ½çè®“å¤§å®¶åƒèˆ‡<br>æœå°‹ä¸€ä¸‹ç·šä¸Šå·¥å…·<br>æœå°‹çµæœå‰å¹¾å€‹ä¼¼ä¹éƒ½ç„¡æ³•å…è²»æ”¯æ´<code>å€‹äººé é¢çš„æŠ½ç</code></p><h2 id="å½±ç‰‡æ•™å­¸"><a href="#å½±ç‰‡æ•™å­¸" class="headerlink" title="å½±ç‰‡æ•™å­¸"></a>å½±ç‰‡æ•™å­¸</h2><p>å‰›å¥½ä¹‹å‰çœ‹åˆ°<a href="https://www.facebook.com/pycone2016/" target="_blank" rel="noopener">Pycone æ¾æœåŸå¸‚</a>æœ‰ç›¸é—œçš„æ•™å­¸å½±ç‰‡<br>çœ‹ä¸Šå»ä¸æœƒå¤ªè¤‡é›œï¼Œå°±ç…§è‘—å¯¦ä½œä¸€æ¬¡äº†</p><p>å‰å°±å¦‚å½±ç‰‡æ‰€ç¤º</p><iframe src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fpycone2016%2Fvideos%2F1848676842125769%2F&show_text=0&width=560" width="560" height="315" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allowFullScreen="true"></iframe><ol><li>å–å¾— Post çš„ ID</li><li>Facebook Graph API</li><li>å–å¾— Token (å­˜å–æ¬Šæ–)</li><li>æ‹¿åˆ°è³‡æ–™</li></ol><p>ä¸éåšåˆ°ä¸­é–“ç™¼ç¾<br><img src="https://i.imgur.com/vWJcVqx.jpg" alt="FaceBook_API_JSON"></p><ol><li>é€™å€‹æ•™å­¸ä¹Ÿæ˜¯åšçµ¦<code>ç²‰çµ²åœ˜</code>ä½¿ç”¨çš„</li><li>æˆ‘å¸Œæœ›è®“ç•™è¨€ä¸­å›è¦†çš„äººä¹ŸåŠ å…¥åå–®</li></ol><p>æ‰€ä»¥éœ€è¦ä¿®æ”¹ä¸€ä¸‹</p><hr><h2 id="å–å¾—ç•™è¨€çš„å›è¦†"><a href="#å–å¾—ç•™è¨€çš„å›è¦†" class="headerlink" title="å–å¾—ç•™è¨€çš„å›è¦†"></a>å–å¾—ç•™è¨€çš„å›è¦†</h2><p>ç”±æ–¼ Facebook çš„å·¢ç‹€ç•™è¨€çµæ§‹<br>æ¯å€‹ç•™è¨€ä¹Ÿéƒ½æœ‰å„è‡ªç¨ç«‹çš„ ID<br>è¦ä¸€ä¸€æŠ“å–æœ‰é»éº»ç…©<br>é€™é‚Šç›´æ¥åœ¨èªæ³•çš„åœ°æ–¹ä½¿ç”¨</p><p><code>filter=stream</code></p><p>è®“å®ƒè®Šæˆè³‡æ–™æµï¼Œå°±æœƒå…¨éƒ¨å±•é–‹ä¾†äº†</p><p>å¦å¤–å¦‚æœç•™è¨€æ•¸å¤ªå¤šçš„è©±<br>é‚„è¦åŠ ä¸Š limit<br>å¦å‰‡æœ‰äº›æœƒé¡¯ç¤ºä¸å‡ºä¾†<br>æƒ³è¦å…¨éƒ¨é¡¯ï¼Œå°±çµ¦ä¸€å€‹è¶…éç¸½ç•™è¨€æ•¸çš„æ•¸é‡å³å¯</p><p><code>limit=1000</code></p><p>æœ€å¾Œçš„èªæ³•ç‚º</p><p><code>&lt;Your_Post_ID&gt;/comments?filter=stream&amp;limit=1000</code></p><p>æœ€å¾Œå–å¾—è³‡æ–™å¾Œå†åˆ©ç”¨ SET å»é™¤é‡è¤‡åå–®ï¼Œäº‚æ•¸æ’åºå¾Œå°å‡º<br>å°±å¯ä»¥å®Œæˆäº†</p><p><a href="https://github.com/huskylin/FB-lottery" target="_blank" rel="noopener">å®Œæ•´çš„ç¨‹å¼ç¢¼</a><br>çŸ­çŸ­å¹¾è¡Œå°±å¯ä»¥å®Œæˆäº†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‹•æ©Ÿ&quot;&gt;&lt;a href=&quot;#å‹•æ©Ÿ&quot; class=&quot;headerlink&quot; title=&quot;å‹•æ©Ÿ&quot;&gt;&lt;/a&gt;å‹•æ©Ÿ&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨è‡‰æ›¸ä¸ŠåƒåŠ æ´»å‹•éœ€è¦æœ‹å‹å€‘æŒ‰è®š&lt;br&gt;æˆ‘å°±è¾¦äº†å€‹æŠ½çè®“å¤§å®¶åƒèˆ‡&lt;br&gt;æœå°‹ä¸€ä¸‹ç·šä¸Šå·¥å…·&lt;br&gt;æœå°‹çµæœå‰å¹¾å€‹ä¼¼ä¹éƒ½ç„¡æ³•å…è²»æ”¯æ´&lt;code
      
    
    </summary>
    
    
    
      <category term="Python" scheme="https://huskylin.github.io/tags/Python/"/>
    
  </entry>
  
</feed>
